# SDD-01 产品与范围

**项目**：yeying-知识库（RAG-中台）  
**版本**：v2.1  
**更新日期**：2026-02-02  
**适用范围**：产品与运营、研发、运维

---

## 1. 目标与定位

yeying-知识库是面向业务租户的 **RAG 中台**，提供从数据入库、向量化、检索增强、记忆管理、工作流编排到插件研发的一体化能力。它强调：

- **多租户与隔离**：平台管理员统一管理；业务租户独立配置自己的知识库与流程
- **可视化管理**：控制台覆盖 KB 配置、Schema、向量字段、摄取、审计、工作流与插件
- **插件化扩展**：以插件目录为核心的可配置与可编排能力

---

## 2. 角色与权限

### 2.1 平台管理员（超级管理员）

- 通过 `SUPER_ADMIN_WALLET_ID` 指定
- 可跨租户查看应用、私有库与审计日志
- 可配置 KB Schema 与向量字段

### 2.2 租户管理员（业务租户）

- 通过登录钱包进入
- 仅操作自身 `app_id` 下的知识库、工作流、插件与数据

### 2.3 业务用户（数据归属钱包）

- 不直接登录控制台
- 其数据通过 `data_wallet_id` 或 `private_db_id` 隔离
- 私有数据库按业务用户维度聚合

---

## 3. 核心概念

- **应用（App）**：租户容器，`app_id` 对应 `plugins/<app_id>`
- **知识库（KB）**：支持公共知识库与用户私有数据库
- **私有数据库（Private DB）**：按 `app_id + data_wallet_id` 聚合
- **记忆（Memory）**：会话级记忆与摘要存储
- **Intent / Workflow**：面向业务的意图与流程编排
- **插件（Plugin）**：`config.yaml` + `pipeline.py` + `prompts` 的组合

---

## 4. 范围与非目标

**范围内**：

- 多租户 RAG 业务支持
- 数据入库与摄取作业
- 配置驱动的工作流与插件化扩展

**非目标**：

- 面向 C 端的终端应用交互体验
- 跨系统统一 SSO 与企业级权限中心

---

## 5. 业务流程基线

1) 平台管理员创建/启用应用  
2) 租户配置知识库与 Schema  
3) 摄取数据与向量化  
4) 配置 Intent/Workflow  
5) 通过 `/query` 服务业务侧调用  
6) 审计日志追踪变更

---

## 6. 关键成功指标（示例）

- 知识库配置全程可视化完成
- 租户无需后端介入即可完成插件与工作流配置
- 摄取与审计可追踪，变更可回溯

